Example workflow for generating normalized read coverage for metagenome-assembled genomes (MAGs) using the coverage profile generated by the jgi_summarize_bam_contig_depths v2.17 script released with MetaBAT v2.2.17. Note that all contig names must be unique.

# Generate matched coverage table from the output generated by jgi_summarize_bam_contig_depths.
$ awk '{print $1"\t"$2"\t"$1,$3}' output_depth.txt | tail -n +2 >> matched_coverage.txt

# Generate a table showing which contigs belong to which MAG from a list of fasta formated MAG files (ending .fa shown for example)
$ grep  ">" *.fa >> bins_to_contigs.txt

# Match contigs, length, coverages and MAG information
$ match_files_by_id_for_coverages.pl -s 1 -in1 matched_coverage.txt -id1 1 -in2 bins_to_contigs.txt -id2 2 -out matched2.txt

# Generate read coverage for each bin
$ rc_bin_summary_updated.pl -i matched2.txt -o bin_coverages.txt
